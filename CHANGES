# Note: keep this file in wiki format for easy pasting to the proto-ch wiki

= GENI Clearinghouse and Portal Release Notes =

== 2.0 ==
  * Fix Slice/Project Membership functionality according to feedback (#496)
  * Enable VERIFYHOST in put_message (#660)
  * Add script to add an arbitrary attribute to a user (#701)

== 1.9.5 ==
  * slice expiration shouldn't pick a date past project expiration (#614)
  * Fix tracebacks in omni_php.py when creating a sliver fails (#649,#321)
  * wimax-enable.php should not check for certificates (#689)
  * Undefined variable in tool-expired-projects (#687)
  * pgch logs something with each CH call (#697)

== 1.9.4 ==
  * Log when someone tries to download their outside cert (#699)

== 1.9.3 ==
  * Re-enable pgch threading with fixes (#690)

== 1.9.2 ==
  * Disable pgch threading until it works (#690)

== 1.9.1 ==
  * GMOC reporting fix (#688)

== 1.9 ==
  * load balancing pgch (#650)
  * WiMAX integration (#484)
  * Extend default and max slice expiration (#636)
  * Verify OpenID username (#289)
  * Improve OpenID page flow (#288)
  * Fix call(s) to modify_project_membership in pa_client.php (#665)
  * Move cainfo.html (#642)
  * Fix OpenID for GIMI (#661)
  * Add pa_project_attribute table (#656)
  * Allow for download public SSH key (#655)
  * undefined variables in amstatus with am_id (#648)
  * Login information is wrong in multi-user slices (#645)
  * Save error Omni results (#444)
  * Fix sa_url in tool-omniconfig.php (#643)
  * Fix warnings in gemini.php (#641)
  * Fix link to SignMeUp (#653)
  * Include email address in account change request emails (#626)
  * Check permissions and remove dead code in do-edit-project (#666)
  * SA/PA merge including... (#540)
     - Ensure SA/PA methods all have guards or we warn why not
     - Hide Update Project button if user not permitted
  * CS logs if it authorizes an action only cause you are an operator (#397)
  * Apply guards to more SA and PA methods (requires CS update-5.sql) (#502)
  * Remove a debug printout in rspec upload (#663)
  * Warn about project lead policy (#630)
  * Fix path bitrot in GMOC slice reporting (#669)
  * Clean up bulk invite email (#529)
  * Handle names with commas when sending email (#629)
  * Handle various newlines in bulk add file (#584)
  * Emails from experimenter bounce back to experimenter. (#409)
  * Check user entered emails - both sanitize and validate them. Warn
  experimenter about any that are skipped. See EG invite-to-project,
  invite-to-geni, ask-for-project. (#409)
  * Pages that take a bunch of emails clarify how to separate
  addresses (space or newline or comma). (#405)
  * Lookup existing users with case insensitive email in bulk add (#646)
  * Allow creating / looking up an iRODS account based on your portal
  username (#640,#673)
  * Update InCommon privacy policy (#654)
  * Only show nodes and links from current aggregate on Details (aka
    manifest) page (#605)
  * Change API methods for getting user keys (#644):
    - Split lookup_ssh_keys into two calls: lookup_public_ssh_keys and
      lookup_private_ssh_keys
    - Make sure that only the current user can call
      lookup_private_ssh_keys for themselves (not portal, not another
      user). This is in addition to the protections done in the MA
      itself.
    - Fix a bug in sshkeyedit that didn't handle lists of keys
      (assumed only one).
  * Ensure Gemini page sends both private and public SSH keys (#674)
  * Use the SA not the PA from pgch (#676)
  * Restore missing valid_expiration method - could not set an expiration on a project (#677)
  * Edit SSH key result message printing wrong (#678)
  * Delete SSH key result message cleanup (#679)
  * Suppress RSpec logging (#680)
  * Show links for current AM on aggregate page (#682)
  * Filter nodes and link for current AM on createsliver page (#683)
  * Name 1st WiMAX SSH key sshpublickey (#684)
  * Ensure success detected on WiMAX page (#685)

== 1.8.1 ==
  * Modifications to KM tool and user to make sure EPPN's 
       are uniformly lower case (so that IDP's that provide mixed-case match)

== 1.8 ==
  * Portal website refers to incorrect 'footer.php' file (#633)
  * Use a tempfile for list of members on import db (#632)
  * Handle no-key/no-cert case in update_user_certs (#631)
  * Fix GEMINI ssh private key data (#628)
  * Fix OpenID service registry error (#618)
  * Conditionalize display of the generate ssh key button (#625)
  * tools-admin.php is fake (#539)
  * Update GEMINI integration (#623)
  * gemini.php is issuing PHP warnings (#619)
  * Modify the "Join the project" default email text (#616)
  * Fix email bounces in do-handle-project-request.php (#611)
  * Add login information for multiple users (#510) 

== 1.7.1 ==
  * Add `do-handle-project-request.php` to Makefile.am (#609)
  * Month in expiration date should be incremented by one (#610)

== 1.7 ==
  * Added an HTML index page for clearinghouse hosts (#595)
  * Removed obsolete create_standard_services.sh script (#587)
  * Add a "delete" ssh key button to Profile page (#542)
  * Call setClientCert with an array instead of a string (#592)
  * Add GEMINI button(s) to home page (#602)
  * Add project info to GEMINI data (#585)
  * Add ssh keys to GEMINI data (#604)
  * Update OpenID for portal.geni.net (#594)
  * List of project in download omni bundle should only include active projects (#554)
  * On new project page, note showing that name of lead is public (#469)
  * Have raw manifest appear in a separate window/tab/popup (#520)
  * New project lead email had broken link (#593)
  * New project lead email sometimes had blank for name (#521)
  * Add timestamps to pgch logs (#398)
  * Script to delete an outside cert (#601)
  * Update user certs script dies if a user did not enable the portal (#606)
  * Revamped Slice and Sliver renewal (#603, #126)
  * Add a note that slice member keys/accounts will only be added via the native portal resource reservation mechanism (#596)

== 1.6.2 ==
  * Handle EPPNs as case-insensitive strings (#597)

== 1.6.1 ==
  * Import databascript was losing non member log messages (#589)

== 1.6 ==
  * Add more bin scripts to install (#569)
  * portal_enable_abac controls all use of ABAC - so all disabled now (#556)
  * update_user_certs script updates the ma_outside_cert table for DB transition (#564)
  * Add missing copyright (#576)
  * Change member IDs when importing to new DB. And make a file of emails of people who had outside certs. (#577)
  * Re-enable some functions in maintenance mode for operators (#579)
  * Fix Accept Project Invite breadcrumbs (#582)
  * Add cainfo.html (#578)
  * Install 2 cs / lockdown sql files (#586)

== 1.5 ==
  * Fix error return on renewslice error in pgch (for omni/Flack) (#555)
  * Remove some hardcoded URNs (progress on #10)
  * Clean up page to accept project invitations (#530)
  * Sign experimenter data message to GEMINI (#560)
  * Remove use of /bin/hostname in scripts & code (#354)
  * Fix a DB authentication bug in geni-add-trusted-tool (#505)
  * Clean up make install to avoid ~ and # files (#488)
  * Install operator scripts in /usr/local/bin on portals (#499)
  * Add `authority` field to omni-bundle and template omni_config (#551)
  * Update certificate creation instructions to match omni-configure (#552)
  * Make omni-bundle download be the same regardless of the number of projects (#566)
  * Clarify wording on user cert generation page (#567)
  * Implement 'sundown' mode that forces slices to expire by a
  configured date (i.e. June 17, 2013) (#548)
  * Implement 'lockdown' mode that makes most operations read-only, to
  be enabled around June 5, 2013. (#547)

== 1.4 ==
  * Check for valid arguments in more spots (#5)
  * Ensure more methods have guards, and log on failed authorization (#501)
  * Added sbin/renew-certs script to renew service certificates (#507)
  * Add support for GetVersion in pgch (#492)
  * Add a revoke privilege script (#549)
  * Fix up revoking project lead and operator privileges (#550)
  * Bug fix for changing project leads (#512)
  * Fix Changing Slice leads (#537)
  * Quiet debug printouts (#531)
  * Enable preliminary support for data handoff to GEMINI (#503)
  * GENI IdP login formats strange on GEC16 tutorial VM (#452)
  * On portal login page, add link to GPO IdP account request form
  (#487)
  * Implement a maintenance mode to lock out users during maintenance (#485)

== 1.3.1 ==
 * Add a missing copyright (#544)

== 1.3 ==
 * Start a CHANGELOG (#489)
 * Clearinghouse
   * Clean up privilege table (#493)
 * Portal
   * Displayed expired slices on project page but hidden by a button (#523) 
   * Allow removing members from projects, slices (#153)
   * Keys for all members included in createsliver (#248)
   * bulk add people to projects (#171)
   * slice membership (#58)
   * Allow adding known people to projects/slices (#86)

